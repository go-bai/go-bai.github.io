<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on gobai's blog</title><link>/posts/</link><description>Recent content in Posts on gobai's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 25 Sep 2023 21:27:06 +0800</lastBuildDate><atom:link href="/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Vscode Extensions</title><link>/posts/vscode-extensions/</link><pubDate>Mon, 25 Sep 2023 21:27:06 +0800</pubDate><guid>/posts/vscode-extensions/</guid><description>è®°å½•æˆ‘çš„vscodeä½¿ç”¨çš„æ‰©å±•æ’ä»¶ æŒç»­è¡¥å……ä¸­
vscode-icons-mac GitLens Go Remote - SSH shellman REST Client Todo Tree ä¸€äº›é…ç½® &amp;quot;workbench.tree.indent&amp;quot;: 16</description></item><item><title>Ubuntu Config</title><link>/posts/ubuntu-config/</link><pubDate>Sun, 24 Sep 2023 10:56:12 +0800</pubDate><guid>/posts/ubuntu-config/</guid><description>é…ç½®ä¸­æ–‡è¾“å…¥æ³• Open Settings, go to Region &amp;amp; Language -&amp;gt; Manage Installed Languages -&amp;gt; Install / Remove languages. Select Chinese (Simplified). Make sure Keyboard Input method system has Ibus selected. Apply. Reboot Log back in, reopen Settings, go to Keyboard. Click on the &amp;ldquo;+&amp;rdquo; sign under Input sources. Select Chinese (China) and then Chinese (Intelligent Pinyin). ubuntu-22-04-chinese-simplified-pinyin-input-support
å®‰è£… oh my zsh sudo apt install zsh curl -y sh -c &amp;quot;$(curl -fsSL https://raw.</description></item><item><title>Virt Manager</title><link>/posts/virt-manager/</link><pubDate>Sat, 23 Sep 2023 22:28:35 +0800</pubDate><guid>/posts/virt-manager/</guid><description>ç¯å¢ƒ âœ ~ cat /etc/os-release PRETTY_NAME=&amp;quot;Ubuntu 22.04.3 LTS&amp;quot; NAME=&amp;quot;Ubuntu&amp;quot; VERSION_ID=&amp;quot;22.04&amp;quot; VERSION=&amp;quot;22.04.3 LTS (Jammy Jellyfish)&amp;quot; VERSION_CODENAME=jammy ID=ubuntu ID_LIKE=debian HOME_URL=&amp;quot;https://www.ubuntu.com/&amp;quot; SUPPORT_URL=&amp;quot;https://help.ubuntu.com/&amp;quot; BUG_REPORT_URL=&amp;quot;https://bugs.launchpad.net/ubuntu/&amp;quot; PRIVACY_POLICY_URL=&amp;quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&amp;quot; UBUNTU_CODENAME=jammy å®‰è£…é…ç½® å®‰è£… sudo apt install virt-manager qemu bridge-utils -y é…ç½® bridge ç±»å‹ç½‘ç»œ TODO
ä¿®æ”¹libvirtdé…ç½®æ–‡ä»¶å¹¶é‡å¯ sudo vim /etc/libvirt/qemu.conf
- #user = &amp;quot;root&amp;quot; + user = &amp;quot;gobai&amp;quot; - #group = &amp;quot;root&amp;quot; + group = &amp;quot;gobai&amp;quot; sudo systemctl restart libvirtd
å¯åŠ¨ virt-manager sudo virt-manager è¿è¡Œ openwrt ç°æœ‰é•œåƒæ–‡ä»¶åœ¨Documentsç›®å½•ä¸‹
âœ Documents ls -lh total 855M -rw-r--r-- 1 gobai gobai 855M 9æœˆ 23 23:06 openwrt-x86-64-generic-ext4-combined-efi.</description></item><item><title>Linux I/O Redirection</title><link>/posts/io-redirection/</link><pubDate>Sat, 23 Sep 2023 09:06:09 +0800</pubDate><guid>/posts/io-redirection/</guid><description/></item><item><title>Linux jq Command</title><link>/posts/jq-command/</link><pubDate>Sat, 09 Sep 2023 15:04:05 +0800</pubDate><guid>/posts/jq-command/</guid><description>jqå‘½ä»¤å¯¹äºapi boyè¿˜æ˜¯æŒºå¸¸ç”¨çš„ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ä¸€äº›å¸¸ç”¨çš„æ“ä½œã€‚</description></item><item><title>è§£å†³Goåº”ç”¨åœ¨å®¹å™¨ä¸­çš„æ—¶åŒºé—®é¢˜</title><link>/posts/solve-timezone-issue-in-go-application-in-container/</link><pubDate>Sat, 18 Feb 2023 16:12:01 +0800</pubDate><guid>/posts/solve-timezone-issue-in-go-application-in-container/</guid><description>å®¹å™¨ä¸­çš„æ—¶åŒºé—®é¢˜ åº”ç”¨ç›´æ¥è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šéœ€è¦è®¾ç½®æœåŠ¡å™¨æ—¶åŒºä¸ºä¸œå…«åŒºï¼Œç°åœ¨å¾ˆå¤šåº”ç”¨éƒ½æ˜¯éƒ¨ç½²åœ¨å®¹å™¨ä¸­äº†ï¼ŒåŒæ ·ä¹Ÿæ˜¯è¦è®¾ç½®å®¹å™¨é•œåƒçš„æ—¶åŒºã€‚
è®¸å¤šå®¹å™¨é•œåƒé»˜è®¤æ—¶åŒºä¸º UTC (Coordinated Universal Time åè°ƒä¸–ç•Œæ—¶)ï¼Œæ¯”ä¸œå…«åŒºæ…¢å…«ä¸ªå°æ—¶ï¼Œå½“ç¨‹åºæ¶‰åŠæ•°æ®åº“å†™å…¥æ“ä½œæˆ–è€…æ—¥å¿—è®°å½•ç­‰åŠŸèƒ½æ—¶å°±ä¼šæœ‰æ—¶é—´å·®ã€‚
å¸¸è§„è§£å†³æ–¹æ¡ˆä¸€èˆ¬ä¸¤å¤§ç±»
build dockeré•œåƒæ—¶å°±æŠŠé•œåƒå†…çš„æ—¶åŒºè®¾ç½®ä¸º Asia/Shanghai è¿è¡Œå®¹å™¨æ—¶æŠŠæœ¬åœ°æ—¶åŒºæ­£å¸¸çš„ä¸»æœºçš„æ—¶åŒºé…ç½®æ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨ã€‚ çœ‹ä¸€ä¸‹ Go æ˜¯å¦‚ä½•è¯»å–æ—¶åŒºæ–‡ä»¶å¹¶è®¾ç½® time.Time çš„æ—¶åŒºçš„ Go æºç  src/time/zoneinfo_unix.go ä¸­ä»£ç å’Œæ³¨é‡Šéƒ½å¾ˆæ¸…æ™°ğŸ‘
package time import ( &amp;quot;syscall&amp;quot; ) // Many systems use /usr/share/zoneinfo, Solaris 2 has // /usr/share/lib/zoneinfo, IRIX 6 has /usr/lib/locale/TZ, // NixOS has /etc/zoneinfo. var platformZoneSources = []string{ &amp;quot;/usr/share/zoneinfo/&amp;quot;, &amp;quot;/usr/share/lib/zoneinfo/&amp;quot;, &amp;quot;/usr/lib/locale/TZ/&amp;quot;, &amp;quot;/etc/zoneinfo&amp;quot;, } func initLocal() { // consult $TZ to find the time zone to use. // no $TZ means use the system default /etc/localtime.</description></item><item><title>ä½¿ç”¨golangè®¡ç®—md5 sum</title><link>/posts/how-to-calculate-md5-using-golang/</link><pubDate>Fri, 13 Jan 2023 00:50:19 +0800</pubDate><guid>/posts/how-to-calculate-md5-using-golang/</guid><description>ä»£ç  package main import ( &amp;quot;crypto/md5&amp;quot; &amp;quot;encoding/hex&amp;quot; &amp;quot;fmt&amp;quot; ) func main() { str := `this is the file content` md5sum := md5.Sum([]byte(str)) fmt.Printf(&amp;quot;%x\n&amp;quot;, md5sum) fmt.Printf(&amp;quot;%s\n&amp;quot;, hex.EncodeToString(md5sum[:])) } è¾“å‡º $ go run main.go 89b4f1823325ce4530cc264cc758baa7 89b4f1823325ce4530cc264cc758baa7</description></item><item><title>SQLite3 Note</title><link>/posts/sqlite3-notes/</link><pubDate>Tue, 14 Dec 2021 10:33:14 +0800</pubDate><guid>/posts/sqlite3-notes/</guid><description>rollbackæ—¥å¿—æ¨¡å¼ä¸‹çš„äº”ç§é”çŠ¶æ€ä»‹ç» UNLOCKED æ²¡é”çŠ¶æ€ SHARED è·å–SHAREDé”æ‰èƒ½æ‰§è¡Œè¯»æ“ä½œï¼Œä¸€ä¸ªæ•°æ®åº“å¯åŒæ—¶å­˜åœ¨å¤šä¸ªSHAREDé” RESERVED è·å–RESERVEDé”æ‰èƒ½åœ¨æœªæ¥å†™æ•°æ®åº“ï¼Œä¸€ä¸ªæ•°æ®åº“åŒä¸€æ—¶é—´åªèƒ½å­˜åœ¨ä¸€ä¸ªRESERVEDé” æœ‰RESERVEDé”æ—¶è¯´æ˜è¿˜æ²¡å¼€å§‹å†™ï¼Œæ‰€ä»¥æœ‰RESERVEDé”æ—¶å¯ä»¥è·å–æ–°çš„SHAREDé” PENDING æœ‰PENDINGé”æ„å‘³ç€è¦å¼€å§‹å†™äº†ï¼Œä½†æ˜¯æ­¤æ—¶æœ‰å…¶ä»–è¿æ¥æ‹¥æœ‰SHAREDé”åœ¨è¯»æ•°æ®ï¼Œæ­¤æ—¶å†™æ“ä½œåªèƒ½ç­‰å¾…æ‰€æœ‰SHAREDé‡Šæ”¾ã€‚ PENDINGé˜»å¡å…¶ä»–è¿æ¥è·å–æ–°çš„SHAREDé”ï¼Œå½“SHAREDé”é‡Šæ”¾å®Œæ—¶è½¬ä¸ºEXCLUSIVEé”å¼€å§‹å†™æ“ä½œã€‚ EXCLUSIVE åŒä¸€æ—¶é—´åªèƒ½å­˜åœ¨ä¸€ä¸ªEXCLUSIVEé”ï¼Œå¹¶ä¸”æœ‰EXCLUSIVEé”å­˜åœ¨æ—¶ä¸å…è®¸å…¶ä»–ä»»ä½•é”ç±»å‹å­˜åœ¨ã€‚ æ‰€ä»¥æ€»ç»“ä¸€ä¸‹å°±æ˜¯è¯»è¯»å¯å¹¶å‘ï¼Œè¯»å†™ä¸å¯å¹¶å‘ï¼Œå†™å†™ä¸å¯å¹¶å‘ã€‚
ä¼˜åŒ–ç¯‡ SQLITE_BUSY é—®é¢˜ çœ‹åˆ°ä¸Šé¢è¿™ä¹ˆå¤šé”ä¸èƒ½å…±å­˜çš„æƒ…å†µåº”è¯¥ä¼šæƒ³åˆ°ï¼Œå†²çªä¼šå¾ˆé¢‘ç¹ï¼Œå¦‚ EXCLUSIVE é”å­˜åœ¨æ—¶ä¸å…è®¸å…¶ä»–è¿æ¥è·å–ä»»ä½•é”ï¼Œå½“å…¶ä»–è¿›ç¨‹éœ€è¦è¯»å†™æ“ä½œæ—¶å°±ä¼šè·å–é”å¤±è´¥ï¼Œç«‹å³æŠ¥ SQLITE_BUSY é”™è¯¯ã€‚
è®¾ç½® busy_timeout å°±ä¸ä¼šç«‹å³è¿”å› SQLITE_BUSYï¼Œä¼šå®šæ—¶retryå¤±è´¥çš„æ“ä½œï¼Œå¦‚æœåœ¨è®¾ç½®çš„ busy_timeout æ—¶é—´å†…è¿˜æ²¡æ‰§è¡ŒæˆåŠŸï¼Œä¾ç„¶ä¼šè¿”å› SQLITE_BUSYã€‚
ä½¿ç”¨ä¸åŒsqliteé©±åŠ¨ï¼Œè®¾ç½® busy_timeout çš„æ–¹å¼ä¸åŒ
modernc.org/sqlite database.db?_pragma=busy_timeout%3d50000 github.com/mattn/go-sqlite3 database.db?_busy_timeout=50000 Shared cache mode æ”¯æŒ table level locksï¼Œæš‚æ—¶è¿˜æ²¡ç ”ç©¶ã€‚
é’ˆå¯¹å†™æ“ä½œæ…¢çš„é—®é¢˜ è§£å†³æ–¹æ¡ˆï¼šå°†å¤šä¸ªå†™æ“ä½œæ”¾å…¥ä¸€ä¸ªäº‹åŠ¡é‡Œæ‰§è¡Œã€‚sqliteå®˜æ–¹FAQå¯¹å…¶è§£é‡Šå¦‚ä¸‹
(19) INSERT is really slow - I can only do few dozen INSERTs per second Actually, SQLite will easily do 50,000 or more INSERT statements per second on an average desktop computer.</description></item><item><title>Vim Tricks</title><link>/posts/vim-tricks/</link><pubDate>Wed, 24 Nov 2021 21:45:54 +0800</pubDate><guid>/posts/vim-tricks/</guid><description>æ‰¹é‡æ›¿æ¢ æ‰¹é‡æ›¿æ¢ v1.6.1 ä¸º v2.7.0
:%s/v1.6.1/v2.7.0/g ä¸¤è¡Œåˆä¸ºä¸€è¡Œ NORMAL æ¨¡å¼ä¸‹æŒ‰ shift + j å°±ä¼šå°†å…‰æ ‡ä¸‹ä¸€è¡Œåˆå¹¶åˆ°å½“å‰è¡Œè¡Œå°¾</description></item><item><title>å‡å°goç¨‹åºç¼–è¯‘åçš„ä½“ç§¯</title><link>/posts/go-app-reduce-size/</link><pubDate>Mon, 22 Nov 2021 10:29:02 +0800</pubDate><guid>/posts/go-app-reduce-size/</guid><description>ç¼–è¯‘ç»å…¸ç¨‹åº ç¨‹åºä»£ç  package main import &amp;quot;fmt&amp;quot; func main() { fmt.Println(&amp;quot;Hello World.&amp;quot;) } ç¼–è¯‘ç¯å¢ƒ $ go version go version go1.16.7 linux/amd64 0. ç›´æ¥ç¼–è¯‘ $ go build -o helloword main.go $ ls -lh helloword -rwxrwxr-x 1 gobai gobai 1.9M Nov 23 09:34 helloword 1. ä¿®æ”¹ç¼–è¯‘é€‰é¡¹ é™¤å»ç¼–è¯‘æ—¶å¸¦çš„ç¬¦å·è¡¨å’Œè°ƒè¯•ä¿¡æ¯
$ go build -ldflags=&amp;quot;-s -w&amp;quot; -o helloword main.go $ ls -lh helloword -rwxrwxr-x 1 gobai gobai 1.3M Nov 23 09:38 helloword 2. ä½¿ç”¨ UPX å¯¹ç›´æ¥ç¼–è¯‘å‡ºçš„äºŒè¿›åˆ¶ä½¿ç”¨ upx è¿›ä¸€æ­¥å‹ç¼©</description></item><item><title>About Systemd</title><link>/posts/systemd-journal/</link><pubDate>Sun, 14 Nov 2021 01:47:04 +0800</pubDate><guid>/posts/systemd-journal/</guid><description>è®°å½•ä¸€ä¸‹æŸ¥çœ‹å’Œæ“ä½œ systemd æ—¥å¿—çš„å‡ ä¸ªå¸¸ç”¨å‘½ä»¤
1 å¸¸ç”¨è¿‡æ»¤æ—¥å¿—æ—¥å¿—çš„å‘½ä»¤ 1.1 æ ¹æ®æ—¶é—´çº¦æŸè¿‡æ»¤æ—¥å¿— 1.1.1 è·å– 2023-01-15 00:00:00 ä¹‹åçš„æ—¥å¿— journalctl --since '2023-01-15 00:00:00' 1.1.2 è·å– 2023-01-15 00:00:00 ä¹‹å, 2023-01-15 12:00:00 ä¹‹å‰çš„æ—¥å¿— journalctl --since '2023-01-15 00:00:00' --until '2023-01-15 12:00:00' 1.2 åªæŸ¥çœ‹ä¸€ä¸ªæœåŠ¡(Unit)çš„æ—¥å¿— journalctl -u nginx 1.3 è‡ªç”±ç»„åˆçº¦æŸæ¡ä»¶ journalctl -u nginx --since '2023-01-15 00:00:00' --until '2023-01-15 12:00:00' 2 æŸ¥çœ‹æ—¥å¿—å ç”¨ç£ç›˜é‡ journalctl --disk-usage Output Archived and active journals take up 3.9G in the file system. 3 åˆ é™¤æ—§çš„æ—¥å¿— 3.1 åªä¿ç•™æœ€è¿‘ ä¸€ä¸ªæœˆ çš„æ—¥å¿— journalctl --vacuum-time=1month 3.</description></item><item><title>Git Tricks</title><link>/posts/git-tricks/</link><pubDate>Fri, 12 Nov 2021 15:36:19 +0800</pubDate><guid>/posts/git-tricks/</guid><description>ç›®å‰å¯¹gitçš„ç†è§£ç¨‹åº¦è¾ƒä½ï¼Œåªæ˜¯èƒ½åº”ä»˜æ—¥å¸¸å¼€å‘ï¼Œæ‰€ä»¥å†™å‡ºæ¥çš„æ°´å¹³æœ‰é™ã€‚
æš‚å­˜å½“å‰ä»£ç æ”¹åŠ¨ åœºæ™¯æ˜¯åœ¨ä¸€ä¸ªgit branchå†™äº†ä¸å°‘ä»£ç ä»¥åå‘ç°å†™é”™åˆ†æ”¯äº†ï¼Œæ€»ä¸èƒ½åˆ äº†å†é‡æ–°å†™å§ï¼Œå¯ä»¥ä½¿ç”¨ git stash å‘½ä»¤è§£å†³ã€‚
// å°†å½“å‰æ”¹åŠ¨çš„ä»£ç æš‚å­˜ git stash // git checkout åˆ°ä½ è¦å·¥ä½œçš„åˆ†æ”¯ git checkout your_workspace_branch // æŠŠæš‚å­˜çš„ä»£ç ä»å †æ ˆå¼¹å‡ºåˆ°å½“å‰åˆ†æ”¯ git stash pop</description></item></channel></rss>