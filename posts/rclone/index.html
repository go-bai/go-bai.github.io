<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
使用rclone和alist提供的webdav接口将阿里云盘mount到Ubuntu 22.04的目录上, 实现像访问本地文件一样访问阿里云盘内的文件

  下载安装rclone
  #

curl https://rclone.org/install.sh | bash

  配置rclone config
  #

# rclone config
No remotes found, make a new one?
n) New remote
s) Set configuration password
q) Quit config
n/s/q> n

Enter name for new remote.
name> alist

Option Storage.
Type of storage to configure.
Choose a number from below, or type in your own value.
 1 / 1Fichier
   \ (fichier)
...
51 / WebDAV
   \ (webdav)
...
Storage> 51

Option url.
URL of http host to connect to.
E.g. https://example.com.
Enter a value.
url> http://alist.home.lan/dav/

Option vendor.
Name of the WebDAV site/service/software you are using.
Choose a number from below, or type in your own value.
Press Enter to leave empty.
 1 / Fastmail Files
   \ (fastmail)
 2 / Nextcloud
   \ (nextcloud)
 3 / Owncloud
   \ (owncloud)
 4 / Sharepoint Online, authenticated by Microsoft account
   \ (sharepoint)
 5 / Sharepoint with NTLM authentication, usually self-hosted or on-premises
   \ (sharepoint-ntlm)
 6 / rclone WebDAV server to serve a remote over HTTP via the WebDAV protocol
   \ (rclone)
 7 / Other site/service or software
   \ (other)
vendor> 7

Option user.
User name.
In case NTLM authentication is used, the username should be in the format &#39;Domain\User&#39;.
Enter a value. Press Enter to leave empty.
user> admin

Option pass.
Password.
Choose an alternative below. Press Enter for the default (n).
y) Yes, type in my own password
g) Generate random password
n) No, leave this optional password blank (default)
y/g/n> y
Enter the password:
password:
Confirm the password:
password:

Option bearer_token.
Bearer token instead of user/pass (e.g. a Macaroon).
Enter a value. Press Enter to leave empty.
bearer_token>

Edit advanced config?
y) Yes
n) No (default)
y/n> n

Configuration complete.
Options:
- type: webdav
- url: http://alist.home.lan/dav/
- vendor: other
- user: admin
- pass: *** ENCRYPTED ***
Keep this "alist" remote?
y) Yes this is OK (default)
e) Edit this remote
d) Delete this remote
y/e/d> y

Current remotes:

Name                 Type
====                 ====
alist                webdav

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q> q

  查看有哪些remote
  #

# rclone listremotes
alist:

  查看某个remote下的目录或文件
  #

# rclone lsd alist:/ali/video/诛仙
          -1 2024-04-02 12:27:23        -1 诛仙.第1季.2022-2023.4K.全26集
          -1 2024-04-02 12:27:24        -1 诛仙.第2季.2024
# rclone ls alist:/ali/video/诛仙/诛仙.第2季.2024
959919343 第27集-Zhu.Xian-2024-03-29-4k-HEVC-H265.AAC-WEB-DL.mkv
995844543 第28集-Zhu.Xian-2024-03-29-4K-HEVC-H265.AAC-WEB-DL.mkv
1012470661 第29集-Zhu.Xian-2024-03-29-4K-HEVC-H265.AAC-WEB-DL.mkv

  将alist mount 到目录
  #

sudo mkdir -p /mnt/alist
sudo chmod 777 /mnt/alist
# --header "Referer:https://www.aliyundrive.com/" 是必须要有的
rclone mount --cache-dir=/tmp --vfs-cache-mode=writes --header "Referer:https://www.aliyundrive.com/" alist: /mnt/alist/
配置开机自动挂载'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="/posts/rclone/"><meta property="og:site_name" content="gobai's notes"><meta property="og:title" content="Rclone 使用笔记"><meta property="og:description" content='使用rclone和alist提供的webdav接口将阿里云盘mount到Ubuntu 22.04的目录上, 实现像访问本地文件一样访问阿里云盘内的文件
下载安装rclone # curl https://rclone.org/install.sh | bash 配置rclone config # # rclone config No remotes found, make a new one? n) New remote s) Set configuration password q) Quit config n/s/q> n Enter name for new remote. name> alist Option Storage. Type of storage to configure. Choose a number from below, or type in your own value. 1 / 1Fichier \ (fichier) ... 51 / WebDAV \ (webdav) ... Storage> 51 Option url. URL of http host to connect to. E.g. https://example.com. Enter a value. url> http://alist.home.lan/dav/ Option vendor. Name of the WebDAV site/service/software you are using. Choose a number from below, or type in your own value. Press Enter to leave empty. 1 / Fastmail Files \ (fastmail) 2 / Nextcloud \ (nextcloud) 3 / Owncloud \ (owncloud) 4 / Sharepoint Online, authenticated by Microsoft account \ (sharepoint) 5 / Sharepoint with NTLM authentication, usually self-hosted or on-premises \ (sharepoint-ntlm) 6 / rclone WebDAV server to serve a remote over HTTP via the WebDAV protocol \ (rclone) 7 / Other site/service or software \ (other) vendor> 7 Option user. User name. In case NTLM authentication is used, the username should be in the format &#39;Domain\User&#39;. Enter a value. Press Enter to leave empty. user> admin Option pass. Password. Choose an alternative below. Press Enter for the default (n). y) Yes, type in my own password g) Generate random password n) No, leave this optional password blank (default) y/g/n> y Enter the password: password: Confirm the password: password: Option bearer_token. Bearer token instead of user/pass (e.g. a Macaroon). Enter a value. Press Enter to leave empty. bearer_token> Edit advanced config? y) Yes n) No (default) y/n> n Configuration complete. Options: - type: webdav - url: http://alist.home.lan/dav/ - vendor: other - user: admin - pass: *** ENCRYPTED *** Keep this "alist" remote? y) Yes this is OK (default) e) Edit this remote d) Delete this remote y/e/d> y Current remotes: Name Type ==== ==== alist webdav e) Edit existing remote n) New remote d) Delete remote r) Rename remote c) Copy remote s) Set configuration password q) Quit config e/n/d/r/c/s/q> q 查看有哪些remote # # rclone listremotes alist: 查看某个remote下的目录或文件 # # rclone lsd alist:/ali/video/诛仙 -1 2024-04-02 12:27:23 -1 诛仙.第1季.2022-2023.4K.全26集 -1 2024-04-02 12:27:24 -1 诛仙.第2季.2024 # rclone ls alist:/ali/video/诛仙/诛仙.第2季.2024 959919343 第27集-Zhu.Xian-2024-03-29-4k-HEVC-H265.AAC-WEB-DL.mkv 995844543 第28集-Zhu.Xian-2024-03-29-4K-HEVC-H265.AAC-WEB-DL.mkv 1012470661 第29集-Zhu.Xian-2024-03-29-4K-HEVC-H265.AAC-WEB-DL.mkv 将alist mount 到目录 # sudo mkdir -p /mnt/alist sudo chmod 777 /mnt/alist # --header "Referer:https://www.aliyundrive.com/" 是必须要有的 rclone mount --cache-dir=/tmp --vfs-cache-mode=writes --header "Referer:https://www.aliyundrive.com/" alist: /mnt/alist/ 配置开机自动挂载'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-04T15:56:58+08:00"><meta property="article:modified_time" content="2025-04-01T01:34:04+08:00"><title>Rclone 使用笔记 | gobai's notes</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=/posts/rclone/><link rel=stylesheet href=/book.min.434035e7885c7f5d12818bd9f111cf1a0925c6fb78382667381c3d5eda3fb4f1.css><script defer src=/fuse.min.js></script><script defer src=/en.search.min.39715b6933aac37b5651b84fa6e48fb5e1fe3435bb1dcced0e7af0194ef4a0e9.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/favicon.ico alt=Logo class=book-icon><span>gobai's notes</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><span>Golang</span><ul><li><input type=checkbox id=section-98d0efdb3baf67b2c791a7fd1bbf6ca1 class=toggle>
<label for=section-98d0efdb3baf67b2c791a7fd1bbf6ca1 class="flex justify-between"><a role=button>语言基础</a></label><ul><li><a href=/posts/golang-memory-escape/>内存逃逸</a></li><li><a href=/posts/golang-gc/>GC 垃圾回收</a></li><li><a href=/posts/golang-make-and-new/>make 与 new 区别</a></li><li><a href=/posts/golang-gmp/>GMP 模型</a></li></ul></li><li><input type=checkbox id=section-42d8c4148cb4c5a3e3d8addaded05197 class=toggle>
<label for=section-42d8c4148cb4c5a3e3d8addaded05197 class="flex justify-between"><a role=button>数据结构</a></label><ul><li><a href=/posts/golang-chan/>Channel</a></li></ul></li><li><input type=checkbox id=section-1ca588caf6263863db394d8b5e8e27c7 class=toggle>
<label for=section-1ca588caf6263863db394d8b5e8e27c7 class="flex justify-between"><a role=button>标准库</a></label><ul></ul></li><li><input type=checkbox id=section-241d5557475d85971162af97f6d52ccb class=toggle>
<label for=section-241d5557475d85971162af97f6d52ccb class="flex justify-between"><a role=button>三方库</a></label><ul><li><a href=/posts/sqlx-vs-xorm/>sqlx vs xorm</a></li></ul></li><li><input type=checkbox id=section-fcb09aa495225b08f1e972b051618bb6 class=toggle>
<label for=section-fcb09aa495225b08f1e972b051618bb6 class="flex justify-between"><a role=button>其他</a></label><ul><li><a href=/posts/solve-timezone-issue-in-go-application-in-container/>Go应用在容器中的时区</a></li><li><a href=/posts/go-app-reduce-size/>减小go程序编译后的体积</a></li></ul></li></ul></li><li><input type=checkbox id=section-f91fe725fab4dcbef0dd504359ff7b63 class=toggle checked>
<label for=section-f91fe725fab4dcbef0dd504359ff7b63 class="flex justify-between"><a role=button>Linux</a></label><ul><li><input type=checkbox id=section-176ad016ae09a9f0440dca17617492cb class=toggle>
<label for=section-176ad016ae09a9f0440dca17617492cb class="flex justify-between"><a role=button>Network</a></label><ul><li><a href=/posts/linux-iptables/>Linux iptables</a></li><li><a href=/posts/linux-bridge/>Linux Bridge</a></li><li><a href=/posts/wireless-to-wired-network/>无线转有线网络</a></li><li><a href=/posts/openwrt/>OpenWrt</a></li><li><a href=/posts/dhclient/>dhclient</a></li><li><a href=/posts/creating-a-bridged-network-with-netplan-on-ubuntu-22-04/>在 Ubuntu 22.04 使用 netplan 创建桥接网络</a></li></ul></li><li><input type=checkbox id=section-33e3a313f4903205bd4597f5f4045be9 class=toggle>
<label for=section-33e3a313f4903205bd4597f5f4045be9 class="flex justify-between"><a role=button>OS</a></label><ul><li><a href=/posts/linux-boot-process-bios/>Linux 启动流程 (BIOS)</a></li><li><a href=/posts/multi-bootable-usb/>Multi-Bootable USB</a></li></ul></li><li><input type=checkbox id=section-3b63411eed8d0cecdd3250e70daaaace class=toggle>
<label for=section-3b63411eed8d0cecdd3250e70daaaace class="flex justify-between"><a role=button>Storage</a></label><ul><li><a href=/posts/partitioning-disks/>Linux 磁盘分区</a></li><li><a href=/posts/inode/>Linux 文件系统之 inode</a></li><li><a href=/posts/delete-partition-and-expand-another/>删除分区并扩容另一个分区和根文件系统</a></li></ul></li><li><input type=checkbox id=section-244a9b038b0e0aa873cb558da61a18b1 class=toggle checked>
<label for=section-244a9b038b0e0aa873cb558da61a18b1 class="flex justify-between"><a role=button>其他</a></label><ul><li><a href=/posts/filebrowser/>Filebrowser 部署</a></li><li><a href=/posts/rclone/ class=active>Rclone 使用笔记</a></li><li><a href=/posts/shell-script/>Shell Script</a></li><li><a href=/posts/ubuntu-config/>Ubuntu Config</a></li><li><a href=/posts/systemd-journal/>About Systemd</a></li></ul></li></ul></li><li><input type=checkbox id=section-db6ac5e9808e911c643d4dada0e07ebd class=toggle>
<label for=section-db6ac5e9808e911c643d4dada0e07ebd class="flex justify-between"><a role=button>Kubernetes</a></label><ul><li><a href=/posts/k8s-informer/>k8s informer 介绍</a></li><li><a href=/posts/flannel/>深入了解 Kubernetes CNI 网络插件 Flannel</a></li><li><a href=/posts/kube-scheduler/>Kube Scheduler</a></li><li><a href=/posts/cri/>CRI 工作原理</a></li><li><a href=/posts/cni/>CNI 工作原理</a></li><li><a href=/posts/csi/>CSI 工作原理</a></li><li><a href=/posts/builing-multi-platform-container-images-guide/>构建多平台容器镜像</a></li><li><a href=/posts/rke2/>RKE2 安装 k8s 集群</a></li><li><a href=/posts/controller-runtime/>Controller Runtime</a></li><li><input type=checkbox id=section-8edd6114a0c1ce280c6628362e538ba7 class=toggle>
<label for=section-8edd6114a0c1ce280c6628362e538ba7 class="flex justify-between"><a role=button>问题记录</a></label><ul><li><a href=/posts/failed-to-reserve-sandbox-name/>failed to reserve sandbox name</a></li></ul></li></ul></li><li><input type=checkbox id=section-45ed28834a9c7fe37d3e4d15606fec65 class=toggle>
<label for=section-45ed28834a9c7fe37d3e4d15606fec65 class="flex justify-between"><a role=button>Database</a></label><ul><li><a href=/posts/sqlite3/>SQLite3</a></li></ul></li><li><span>Virtualization</span><ul><li><input type=checkbox id=section-7c5a43731ddd199a055dda51c8660688 class=toggle>
<label for=section-7c5a43731ddd199a055dda51c8660688 class="flex justify-between"><a role=button>KubeVirt</a></label><ul><li><a href=/posts/kubevirt-sidecar/>Kubevirt Hook Sidecar</a></li></ul></li><li><input type=checkbox id=section-01c36c077fb673b3c49c2a334c82e286 class=toggle>
<label for=section-01c36c077fb673b3c49c2a334c82e286 class="flex justify-between"><a role=button>libvirt</a></label><ul><li><a href=/posts/libvirt/>Libvirt 使用笔记</a></li><li><a href=/posts/create-vm-with-cloudinit/>创建虚拟机时使用 cloudinit 初始化</a></li></ul></li></ul></li><li><input type=checkbox id=section-51c4e989897e79573c9215830bc89f6c class=toggle>
<label for=section-51c4e989897e79573c9215830bc89f6c class="flex justify-between"><a role=button>Prometheus</a></label><ul><li><a href=/posts/prometheus-basics/>Prometheus 基础</a></li><li><a href=/posts/kube-prometheus-stack/>kube-prometheus-stack 安装</a></li><li><a href=/posts/node-exporter/>node-exporter 安装</a></li></ul></li><li><input type=checkbox id=section-3dd648d0479248759f2c07b8d5ee80be class=toggle>
<label for=section-3dd648d0479248759f2c07b8d5ee80be class="flex justify-between"><a role=button>Ceph</a></label><ul><li><a href=/posts/rook-ceph/>安装 Rook Ceph</a></li></ul></li><li><input type=checkbox id=section-bceaf15d0fd4d92497330a70b95e69d1 class=toggle>
<label for=section-bceaf15d0fd4d92497330a70b95e69d1 class="flex justify-between"><a role=button>其他</a></label><ul><li><a href=/posts/vscode-extensions/>Vscode Extensions</a></li><li><a href=/posts/macos-config/>MacOS Config</a></li><li><a href=/posts/vim-tricks/>Vim Tricks</a></li><li><a href=/posts/git-tricks/>Git Tricks</a></li></ul></li><li class=book-section-flat><span>&lt;&lt; 链接 >></span><ul><li><a href=/posts/about/>关于我</a></li><li><a href=/posts/links/>友链</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Rclone 使用笔记</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#下载安装rclone>下载安装<code>rclone</code></a></li><li><a href=#配置rclone-config>配置<code>rclone config</code></a><ul><li><a href=#查看有哪些remote>查看有哪些remote</a></li><li><a href=#查看某个remote下的目录或文件>查看某个<code>remote</code>下的目录或文件</a></li></ul></li><li><a href=#将alist-mount-到目录>将<code>alist</code> mount 到目录</a></li><li><a href=#参考>参考</a></li></ul></nav></aside></header><article class="markdown book-post"><h1>Rclone 使用笔记</h1><div class="flex align-center text-small book-post-date"><img src=/svg/calendar.svg class=book-icon alt>
<span>2024-04-04</span></div><div class=book-post-content><blockquote><p>使用<code>rclone</code>和<code>alist</code>提供的<code>webdav</code>接口将阿里云盘<code>mount</code>到Ubuntu 22.04的目录上, 实现像访问本地文件一样访问阿里云盘内的文件</p></blockquote><h2 id=下载安装rclone>下载安装<code>rclone</code>
<a class=anchor href=#%e4%b8%8b%e8%bd%bd%e5%ae%89%e8%a3%85rclone>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl https://rclone.org/install.sh | bash
</span></span></code></pre></div><h2 id=配置rclone-config>配置<code>rclone config</code>
<a class=anchor href=#%e9%85%8d%e7%bd%aerclone-config>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># rclone config</span>
</span></span><span style=display:flex><span>No remotes found, make a new one?
</span></span><span style=display:flex><span>n<span style=color:#f92672>)</span> New remote
</span></span><span style=display:flex><span>s<span style=color:#f92672>)</span> Set configuration password
</span></span><span style=display:flex><span>q<span style=color:#f92672>)</span> Quit config
</span></span><span style=display:flex><span>n/s/q&gt; n
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Enter name <span style=color:#66d9ef>for</span> new remote.
</span></span><span style=display:flex><span>name&gt; alist
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Option Storage.
</span></span><span style=display:flex><span>Type of storage to configure.
</span></span><span style=display:flex><span>Choose a number from below, or type in your own value.
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> / 1Fichier
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>fichier<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#ae81ff>51</span> / WebDAV
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>webdav<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>Storage&gt; <span style=color:#ae81ff>51</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Option url.
</span></span><span style=display:flex><span>URL of http host to connect to.
</span></span><span style=display:flex><span>E.g. https://example.com.
</span></span><span style=display:flex><span>Enter a value.
</span></span><span style=display:flex><span>url&gt; http://alist.home.lan/dav/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Option vendor.
</span></span><span style=display:flex><span>Name of the WebDAV site/service/software you are using.
</span></span><span style=display:flex><span>Choose a number from below, or type in your own value.
</span></span><span style=display:flex><span>Press Enter to leave empty.
</span></span><span style=display:flex><span> <span style=color:#ae81ff>1</span> / Fastmail Files
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>fastmail<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>2</span> / Nextcloud
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>nextcloud<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>3</span> / Owncloud
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>owncloud<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>4</span> / Sharepoint Online, authenticated by Microsoft account
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>sharepoint<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>5</span> / Sharepoint with NTLM authentication, usually self-hosted or on-premises
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>sharepoint-ntlm<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>6</span> / rclone WebDAV server to serve a remote over HTTP via the WebDAV protocol
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>rclone<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>7</span> / Other site/service or software
</span></span><span style=display:flex><span>   <span style=color:#ae81ff>\ </span><span style=color:#f92672>(</span>other<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>vendor&gt; <span style=color:#ae81ff>7</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Option user.
</span></span><span style=display:flex><span>User name.
</span></span><span style=display:flex><span>In <span style=color:#66d9ef>case</span> NTLM authentication is used, the username should be in the format <span style=color:#e6db74>&#39;Domain\User&#39;</span>.
</span></span><span style=display:flex><span>Enter a value. Press Enter to leave empty.
</span></span><span style=display:flex><span>user&gt; admin
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Option pass.
</span></span><span style=display:flex><span>Password.
</span></span><span style=display:flex><span>Choose an alternative below. Press Enter <span style=color:#66d9ef>for</span> the default <span style=color:#f92672>(</span>n<span style=color:#f92672>)</span>.
</span></span><span style=display:flex><span>y<span style=color:#f92672>)</span> Yes, type in my own password
</span></span><span style=display:flex><span>g<span style=color:#f92672>)</span> Generate random password
</span></span><span style=display:flex><span>n<span style=color:#f92672>)</span> No, leave this optional password blank <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>y/g/n&gt; y
</span></span><span style=display:flex><span>Enter the password:
</span></span><span style=display:flex><span>password:
</span></span><span style=display:flex><span>Confirm the password:
</span></span><span style=display:flex><span>password:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Option bearer_token.
</span></span><span style=display:flex><span>Bearer token instead of user/pass <span style=color:#f92672>(</span>e.g. a Macaroon<span style=color:#f92672>)</span>.
</span></span><span style=display:flex><span>Enter a value. Press Enter to leave empty.
</span></span><span style=display:flex><span>bearer_token&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Edit advanced config?
</span></span><span style=display:flex><span>y<span style=color:#f92672>)</span> Yes
</span></span><span style=display:flex><span>n<span style=color:#f92672>)</span> No <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>y/n&gt; n
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Configuration complete.
</span></span><span style=display:flex><span>Options:
</span></span><span style=display:flex><span>- type: webdav
</span></span><span style=display:flex><span>- url: http://alist.home.lan/dav/
</span></span><span style=display:flex><span>- vendor: other
</span></span><span style=display:flex><span>- user: admin
</span></span><span style=display:flex><span>- pass: *** ENCRYPTED ***
</span></span><span style=display:flex><span>Keep this <span style=color:#e6db74>&#34;alist&#34;</span> remote?
</span></span><span style=display:flex><span>y<span style=color:#f92672>)</span> Yes this is OK <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>e<span style=color:#f92672>)</span> Edit this remote
</span></span><span style=display:flex><span>d<span style=color:#f92672>)</span> Delete this remote
</span></span><span style=display:flex><span>y/e/d&gt; y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Current remotes:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Name                 Type
</span></span><span style=display:flex><span><span style=color:#f92672>====</span>                 <span style=color:#f92672>====</span>
</span></span><span style=display:flex><span>alist                webdav
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>e<span style=color:#f92672>)</span> Edit existing remote
</span></span><span style=display:flex><span>n<span style=color:#f92672>)</span> New remote
</span></span><span style=display:flex><span>d<span style=color:#f92672>)</span> Delete remote
</span></span><span style=display:flex><span>r<span style=color:#f92672>)</span> Rename remote
</span></span><span style=display:flex><span>c<span style=color:#f92672>)</span> Copy remote
</span></span><span style=display:flex><span>s<span style=color:#f92672>)</span> Set configuration password
</span></span><span style=display:flex><span>q<span style=color:#f92672>)</span> Quit config
</span></span><span style=display:flex><span>e/n/d/r/c/s/q&gt; q
</span></span></code></pre></div><h3 id=查看有哪些remote>查看有哪些remote
<a class=anchor href=#%e6%9f%a5%e7%9c%8b%e6%9c%89%e5%93%aa%e4%ba%9bremote>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># rclone listremotes</span>
</span></span><span style=display:flex><span>alist:
</span></span></code></pre></div><h3 id=查看某个remote下的目录或文件>查看某个<code>remote</code>下的目录或文件
<a class=anchor href=#%e6%9f%a5%e7%9c%8b%e6%9f%90%e4%b8%aaremote%e4%b8%8b%e7%9a%84%e7%9b%ae%e5%bd%95%e6%88%96%e6%96%87%e4%bb%b6>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># rclone lsd alist:/ali/video/诛仙</span>
</span></span><span style=display:flex><span>          -1 2024-04-02 12:27:23        -1 诛仙.第1季.2022-2023.4K.全26集
</span></span><span style=display:flex><span>          -1 2024-04-02 12:27:24        -1 诛仙.第2季.2024
</span></span><span style=display:flex><span><span style=color:#75715e># rclone ls alist:/ali/video/诛仙/诛仙.第2季.2024</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>959919343</span> 第27集-Zhu.Xian-2024-03-29-4k-HEVC-H265.AAC-WEB-DL.mkv
</span></span><span style=display:flex><span><span style=color:#ae81ff>995844543</span> 第28集-Zhu.Xian-2024-03-29-4K-HEVC-H265.AAC-WEB-DL.mkv
</span></span><span style=display:flex><span><span style=color:#ae81ff>1012470661</span> 第29集-Zhu.Xian-2024-03-29-4K-HEVC-H265.AAC-WEB-DL.mkv
</span></span></code></pre></div><h2 id=将alist-mount-到目录>将<code>alist</code> mount 到目录
<a class=anchor href=#%e5%b0%86alist-mount-%e5%88%b0%e7%9b%ae%e5%bd%95>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /mnt/alist
</span></span><span style=display:flex><span>sudo chmod <span style=color:#ae81ff>777</span> /mnt/alist
</span></span><span style=display:flex><span><span style=color:#75715e># --header &#34;Referer:https://www.aliyundrive.com/&#34; 是必须要有的</span>
</span></span><span style=display:flex><span>rclone mount --cache-dir<span style=color:#f92672>=</span>/tmp --vfs-cache-mode<span style=color:#f92672>=</span>writes --header <span style=color:#e6db74>&#34;Referer:https://www.aliyundrive.com/&#34;</span> alist: /mnt/alist/
</span></span></code></pre></div><p>配置开机自动挂载</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOF &gt; /etc/systemd/system/mount-mnt-alist.service
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Unit]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Description=Mount alist
</span></span></span><span style=display:flex><span><span style=color:#e6db74>After=network.target
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Service]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Type=simple
</span></span></span><span style=display:flex><span><span style=color:#e6db74># 因为我的桌面用户是gobai, 所以需要指定gobai, mount之后/mnt/alist目录的owner会变成执行用户
</span></span></span><span style=display:flex><span><span style=color:#e6db74>User=gobai
</span></span></span><span style=display:flex><span><span style=color:#e6db74># --cache-dir 指定 cache目录
</span></span></span><span style=display:flex><span><span style=color:#e6db74># --dir-cache-time=10s 指定对目录的cache时间, 因为我主要是用来读取远端云盘的文件, 希望可以尽快刷新目录看到新的文件
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ExecStart=rclone mount --cache-dir=/tmp/rclone --dir-cache-time=10s --vfs-cache-mode=full --fs-cache-expire-duration=2m --header &#34;Referer:https://www.aliyundrive.com/&#34; alist: /mnt/alist/
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ExecStop=umout /mnt/alist
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Restart=on-failure
</span></span></span><span style=display:flex><span><span style=color:#e6db74>RestartSec=15
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Install]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>WantedBy=default.target
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>systemctl start mount-mnt-alist
</span></span><span style=display:flex><span>systemctl enable mount-mnt-alist
</span></span></code></pre></div><h2 id=参考>参考
<a class=anchor href=#%e5%8f%82%e8%80%83>#</a></h2><ol><li><a href=https://rclone.org/downloads/>https://rclone.org/downloads/</a></li><li><a href=https://alist.nn.ci/guide/webdav.html>https://alist.nn.ci/guide/webdav.html</a></li></ol></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/go-bai/go-bai.github.io/commit/c1febf39aa6ed2c4b3f7da0a106bfeb940cc3afb title='Last modified by go-bai | 2025-03-31' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt>
<span>2025-03-31</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#下载安装rclone>下载安装<code>rclone</code></a></li><li><a href=#配置rclone-config>配置<code>rclone config</code></a><ul><li><a href=#查看有哪些remote>查看有哪些remote</a></li><li><a href=#查看某个remote下的目录或文件>查看某个<code>remote</code>下的目录或文件</a></li></ul></li><li><a href=#将alist-mount-到目录>将<code>alist</code> mount 到目录</a></li><li><a href=#参考>参考</a></li></ul></nav></div></aside></main></body></html>