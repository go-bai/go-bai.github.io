<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Rclone on gobai's blog</title><link>/tags/rclone/</link><description>Recent content in Rclone on gobai's blog</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Thu, 04 Apr 2024 15:56:58 +0800</lastBuildDate><atom:link href="/tags/rclone/index.xml" rel="self" type="application/rss+xml"/><item><title>Rclone</title><link>/posts/rclone/</link><pubDate>Thu, 04 Apr 2024 15:56:58 +0800</pubDate><guid>/posts/rclone/</guid><description>&lt;blockquote>
&lt;p>使用&lt;code>rclone&lt;/code>和&lt;code>alist&lt;/code>提供的&lt;code>webdav&lt;/code>接口将阿里云盘&lt;code>mount&lt;/code>到Ubuntu 22.04的目录上, 实现像访问本地文件一样访问阿里云盘内的文件&lt;/p>
&lt;/blockquote>
&lt;h2 id="下载安装rclone">下载安装&lt;code>rclone&lt;/code>&lt;/h2>
&lt;pre>&lt;code class="language-bash">curl https://rclone.org/install.sh | bash
&lt;/code>&lt;/pre>
&lt;h2 id="配置rclone-config">配置&lt;code>rclone config&lt;/code>&lt;/h2>
&lt;pre>&lt;code class="language-bash"># rclone config
No remotes found, make a new one?
n) New remote
s) Set configuration password
q) Quit config
n/s/q&amp;gt; n

Enter name for new remote.
name&amp;gt; alist

Option Storage.
Type of storage to configure.
Choose a number from below, or type in your own value.
 1 / 1Fichier
 \ (fichier)
...
51 / WebDAV
 \ (webdav)
...
Storage&amp;gt; 51

Option url.
URL of http host to connect to.
E.g. https://example.com.
Enter a value.
url&amp;gt; http://alist.home.lan/dav/

Option vendor.
Name of the WebDAV site/service/software you are using.
Choose a number from below, or type in your own value.
Press Enter to leave empty.
 1 / Fastmail Files
 \ (fastmail)
 2 / Nextcloud
 \ (nextcloud)
 3 / Owncloud
 \ (owncloud)
 4 / Sharepoint Online, authenticated by Microsoft account
 \ (sharepoint)
 5 / Sharepoint with NTLM authentication, usually self-hosted or on-premises
 \ (sharepoint-ntlm)
 6 / rclone WebDAV server to serve a remote over HTTP via the WebDAV protocol
 \ (rclone)
 7 / Other site/service or software
 \ (other)
vendor&amp;gt; 7

Option user.
User name.
In case NTLM authentication is used, the username should be in the format 'Domain\User'.
Enter a value. Press Enter to leave empty.
user&amp;gt; admin

Option pass.
Password.
Choose an alternative below. Press Enter for the default (n).
y) Yes, type in my own password
g) Generate random password
n) No, leave this optional password blank (default)
y/g/n&amp;gt; y
Enter the password:
password:
Confirm the password:
password:

Option bearer_token.
Bearer token instead of user/pass (e.g. a Macaroon).
Enter a value. Press Enter to leave empty.
bearer_token&amp;gt;

Edit advanced config?
y) Yes
n) No (default)
y/n&amp;gt; n

Configuration complete.
Options:
- type: webdav
- url: http://alist.home.lan/dav/
- vendor: other
- user: admin
- pass: *** ENCRYPTED ***
Keep this &amp;quot;alist&amp;quot; remote?
y) Yes this is OK (default)
e) Edit this remote
d) Delete this remote
y/e/d&amp;gt; y

Current remotes:

Name Type
==== ====
alist webdav

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q&amp;gt; q
&lt;/code>&lt;/pre>
&lt;h3 id="查看有哪些remote">查看有哪些remote&lt;/h3>
&lt;pre>&lt;code class="language-bash"># rclone listremotes
alist:
&lt;/code>&lt;/pre>
&lt;h3 id="查看某个remote下的目录或文件">查看某个&lt;code>remote&lt;/code>下的目录或文件&lt;/h3>
&lt;pre>&lt;code class="language-bash"># rclone lsd alist:/ali/video/诛仙
 -1 2024-04-02 12:27:23 -1 诛仙.第1季.2022-2023.4K.全26集
 -1 2024-04-02 12:27:24 -1 诛仙.第2季.2024
# rclone ls alist:/ali/video/诛仙/诛仙.第2季.2024
959919343 第27集-Zhu.Xian-2024-03-29-4k-HEVC-H265.AAC-WEB-DL.mkv
995844543 第28集-Zhu.Xian-2024-03-29-4K-HEVC-H265.AAC-WEB-DL.mkv
1012470661 第29集-Zhu.Xian-2024-03-29-4K-HEVC-H265.AAC-WEB-DL.mkv
&lt;/code>&lt;/pre>
&lt;h2 id="将alist-mount-到目录">将&lt;code>alist&lt;/code> mount 到目录&lt;/h2>
&lt;pre>&lt;code class="language-bash">sudo mkdir -p /mnt/alist
sudo chmod 777 /mnt/alist
# --header &amp;quot;Referer:https://www.aliyundrive.com/&amp;quot; 是必须要有的
rclone mount --cache-dir=/tmp --vfs-cache-mode=writes --header &amp;quot;Referer:https://www.aliyundrive.com/&amp;quot; alist: /mnt/alist/
&lt;/code>&lt;/pre>
&lt;p>配置开机自动挂载&lt;/p></description></item></channel></rss>