<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ubuntu on gobai's blog</title><link>/tags/ubuntu/</link><description>Recent content in Ubuntu on gobai's blog</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Wed, 04 Oct 2023 13:01:59 +0800</lastBuildDate><atom:link href="/tags/ubuntu/index.xml" rel="self" type="application/rss+xml"/><item><title>Creating a bridged network with netplan on Ubuntu 22.04</title><link>/posts/creating-a-bridged-network-with-netplan-on-ubuntu-22-04/</link><pubDate>Wed, 04 Oct 2023 13:01:59 +0800</pubDate><guid>/posts/creating-a-bridged-network-with-netplan-on-ubuntu-22-04/</guid><description>&lt;p>本地LAN环境&lt;/p>
&lt;ol>
&lt;li>LAN网关 &lt;code>192.168.1.1&lt;/code>&lt;/li>
&lt;li>子网掩码 &lt;code>255.255.255.0&lt;/code>&lt;/li>
&lt;li>DHCP范围 &lt;code>192.168.1.2&lt;/code>-&lt;code>192.168.32&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="创建一个bridged-network">创建一个&lt;code>bridged network&lt;/code>&lt;/h2>
&lt;p>创建一个网桥&lt;code>br0&lt;/code>给虚机使用，使得虚机和其他设备都在一个LAN下&lt;/p>
&lt;p>总配置(&lt;code>netplan get&lt;/code>)如下:&lt;/p>
&lt;pre>&lt;code class="language-yaml">network:
 version: 2
 renderer: NetworkManager
 ethernets:
 enp1s0:
 dhcp4: false
 dhcp6: false
 bridges:
 br0:
 addresses:
 - &amp;quot;192.168.1.100/24&amp;quot;
 nameservers:
 addresses:
 - 192.168.1.1
 dhcp4: false
 dhcp6: false
 interfaces:
 - enp1s0
 parameters:
 stp: false
 routes:
 - to: &amp;quot;default&amp;quot;
 via: &amp;quot;192.168.1.1&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>由三个文件组成:&lt;/p>
&lt;ol>
&lt;li>&lt;code>/etc/netplan/01-network-manager-all.yaml&lt;/code>&lt;/li>
&lt;/ol>
&lt;pre>&lt;code class="language-yaml"># Let NetworkManager manage all devices on this system
network:
 version: 2
 renderer: NetworkManager
&lt;/code>&lt;/pre>
&lt;ol start="2">
&lt;li>&lt;code>/etc/netplan/10-ethernet-enp1s0.yaml&lt;/code>&lt;/li>
&lt;/ol>
&lt;pre>&lt;code class="language-yaml">network:
 ethernets:
 enp1s0:
 dhcp4: false
 dhcp6: false
&lt;/code>&lt;/pre>
&lt;ol start="3">
&lt;li>&lt;code>/etc/netplan/99-bridged-network-br0.yaml&lt;/code>&lt;/li>
&lt;/ol>
&lt;pre>&lt;code class="language-yaml">network:
 bridges:
 br0:
 dhcp4: false
 dhcp6: false
 addresses:
 - 192.168.1.100/24
 routes:
 - to: default
 via: 192.168.1.1
 nameservers:
 addresses: 
 - 192.168.1.1
 - 223.5.5.5
 interfaces:
 - enp1s0
 parameters:
 stp: false
&lt;/code>&lt;/pre>
&lt;h2 id="应用网络配置">应用网络配置&lt;/h2>
&lt;p>容易失联，如果是ssh远程操作请谨慎操作&lt;/p></description></item><item><title>Ubuntu Config</title><link>/posts/ubuntu-config/</link><pubDate>Sun, 24 Sep 2023 10:56:12 +0800</pubDate><guid>/posts/ubuntu-config/</guid><description>&lt;blockquote>
&lt;p>以下配置都是在 &lt;code>Ubuntu 22.04&lt;/code> 系统配置&lt;/p>
&lt;/blockquote>
&lt;h2 id="配置中文输入法">配置中文输入法&lt;/h2>
&lt;ol>
&lt;li>Open Settings, go to &lt;code>Region &amp;amp; Language&lt;/code> -&amp;gt; &lt;code>Manage Installed Languages&lt;/code> -&amp;gt; &lt;code>Install / Remove languages&lt;/code>.&lt;/li>
&lt;li>Select &lt;code>Chinese (Simplified)&lt;/code>. Make sure &lt;code>Keyboard Input method system&lt;/code> has &lt;code>Ibus&lt;/code> selected. Apply.&lt;/li>
&lt;li>Reboot&lt;/li>
&lt;li>Log back in, reopen Settings, go to &lt;code>Keyboard&lt;/code>.&lt;/li>
&lt;li>Click on the &amp;ldquo;+&amp;rdquo; sign under &lt;code>Input sources&lt;/code>.&lt;/li>
&lt;li>Select &lt;code>Chinese (China)&lt;/code> and then &lt;code>Chinese (Intelligent Pinyin)&lt;/code>.&lt;/li>
&lt;/ol>
&lt;p>&lt;a href="https://askubuntu.com/questions/1408873/ubuntu-22-04-chinese-simplified-pinyin-input-support">ubuntu-22-04-chinese-simplified-pinyin-input-support&lt;/a>&lt;/p>
&lt;h2 id="修正简体中文显示为异体日文字形">修正简体中文显示为异体(日文)字形&lt;/h2>
&lt;blockquote>
&lt;p>ubuntu/linux对中文支持的不太好, 在选择汉字字体时, 优先选择的是日文或者韩文, 需要手动调整优先级后重启操作系统解决&lt;/p>
&lt;/blockquote>
&lt;p>root权限编辑 &lt;code>/etc/fonts/conf.avail/64-language-selector-prefer.conf&lt;/code> 配置文件&lt;/p>
&lt;pre>&lt;code class="language-diff">&amp;lt;?xml version=&amp;quot;1.0&amp;quot;?&amp;gt;
&amp;lt;!DOCTYPE fontconfig SYSTEM &amp;quot;fonts.dtd&amp;quot;&amp;gt;
&amp;lt;fontconfig&amp;gt;
 &amp;lt;alias&amp;gt;
 &amp;lt;family&amp;gt;sans-serif&amp;lt;/family&amp;gt;
 &amp;lt;prefer&amp;gt;
+ &amp;lt;family&amp;gt;Noto Sans CJK SC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans CJK JP&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans CJK KR&amp;lt;/family&amp;gt;
- &amp;lt;family&amp;gt;Noto Sans CJK SC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans CJK TC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans CJK HK&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Lohit Devanagari&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans Sinhala&amp;lt;/family&amp;gt;
 &amp;lt;/prefer&amp;gt;
 &amp;lt;/alias&amp;gt;
 &amp;lt;alias&amp;gt;
 &amp;lt;family&amp;gt;serif&amp;lt;/family&amp;gt;
 &amp;lt;prefer&amp;gt;
+ &amp;lt;family&amp;gt;Noto Serif CJK SC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Serif CJK JP&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Serif CJK KR&amp;lt;/family&amp;gt;
- &amp;lt;family&amp;gt;Noto Serif CJK SC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Serif CJK TC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Lohit Devanagari&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Serif Sinhala&amp;lt;/family&amp;gt;
 &amp;lt;/prefer&amp;gt;
 &amp;lt;/alias&amp;gt;
 &amp;lt;alias&amp;gt;
 &amp;lt;family&amp;gt;monospace&amp;lt;/family&amp;gt;
 &amp;lt;prefer&amp;gt;
+ &amp;lt;family&amp;gt;Noto Sans Mono CJK SC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans Mono CJK JP&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans Mono CJK KR&amp;lt;/family&amp;gt;
- &amp;lt;family&amp;gt;Noto Sans Mono CJK SC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans Mono CJK TC&amp;lt;/family&amp;gt;
 &amp;lt;family&amp;gt;Noto Sans Mono CJK HK&amp;lt;/family&amp;gt;
 &amp;lt;/prefer&amp;gt;
 &amp;lt;/alias&amp;gt;
&amp;lt;/fontconfig&amp;gt;
&lt;/code>&lt;/pre>
&lt;h2 id="换apt源">换&lt;code>apt&lt;/code>源&lt;/h2>
&lt;p>&lt;a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/&lt;/a>&lt;/p></description></item></channel></rss>